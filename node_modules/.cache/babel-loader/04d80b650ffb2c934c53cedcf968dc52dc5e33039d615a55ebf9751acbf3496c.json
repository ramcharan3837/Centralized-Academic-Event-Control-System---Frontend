{"ast":null,"code":"import{useEffect,useState}from\"react\";import Navbar from\"../components/Navbar\";import Hero from\"../components/Hero\";import axios from\"axios\";import{base_url}from\"../components/baseUrl\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const[events,setEvents]=useState([]);useEffect(()=>{getAllEvents();},[]);const getAllEvents=()=>{axios.get(base_url+\"events\").then(res=>{const allEvents=res.data.events;const today=new Date();const upcoming=allEvents.filter(event=>new Date(event.date)>=today);setEvents(upcoming);}).catch(err=>{console.log(err);});};const[searchQuery,setSearchQuery]=useState(\"\");const[selectedEvent,setSelectedEvent]=useState(null);const filteredEvents=events.filter(event=>event.name.toLowerCase().includes(searchQuery.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white\",children:[/*#__PURE__*/_jsx(Navbar,{onSearch:setSearchQuery}),/*#__PURE__*/_jsx(Hero,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"px-8 py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-8 text-blue-400\",children:\"Promoted Events\"}),filteredEvents.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\",children:filteredEvents.map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/80 backdrop-blur-md border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-blue-500/30 hover:-translate-y-1 transition-all\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://d2lk14jtvqry1q.cloudfront.net/media/large_264_c082f43202_365ae078c9.png\",alt:event.name,className:\"w-full h-40 object-cover rounded-xl mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-2\",children:event.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:[\"\\uD83D\\uDCC5 \",event.date]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:[\"\\uD83D\\uDCCD \",event.venue]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-4\",children:event.shortDesc}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEvent(event),className:\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-xl font-semibold transition\",children:\"View Details\"})]},event.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"No events found.\"})]}),selectedEvent&&/*#__PURE__*/_jsx(EventModal,{event:selectedEvent,onClose:()=>setSelectedEvent(null)})]});}// Event Modal Component\nfunction EventModal(_ref){let{event,onClose}=_ref;const handleRegister=()=>{// Redirect to login page\nwindow.location.href=\"/login\";};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/70 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 p-8 rounded-2xl max-w-lg w-full space-y-4 relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-4 right-4 text-white text-xl font-bold hover:text-red-500\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://d2lk14jtvqry1q.cloudfront.net/media/large_264_c082f43202_365ae078c9.png\",alt:event.title,className:\"w-full h-48 object-cover rounded-xl mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-blue-400\",children:event.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"\\uD83D\\uDCC5 \",event.date]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"\\uD83D\\uDCCD \",event.venue]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mt-2\",children:event.shortDesc}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mt-2\",children:event.about}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,className:\"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-xl font-semibold transition\",children:\"Register\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-xl font-semibold transition\",children:\"Close\"})]})]})});}export default Home;","map":{"version":3,"names":["useEffect","useState","Navbar","Hero","axios","base_url","jsx","_jsx","jsxs","_jsxs","Home","events","setEvents","getAllEvents","get","then","res","allEvents","data","today","Date","upcoming","filter","event","date","catch","err","console","log","searchQuery","setSearchQuery","selectedEvent","setSelectedEvent","filteredEvents","name","toLowerCase","includes","className","children","onSearch","length","map","src","alt","venue","shortDesc","onClick","id","EventModal","onClose","_ref","handleRegister","window","location","href","title","about"],"sources":["C:/Users/ASUS/Downloads/event-frontend (3) (1) (1)/event-frontend (2) (1)/event-frontend/event-frontend/src/pages/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Hero from \"../components/Hero\";\nimport axios from \"axios\";\nimport { base_url } from \"../components/baseUrl\";\n\n\nfunction Home() {\n  const [events,setEvents] = useState([])\n  useEffect(()=>{\n    getAllEvents()\n  },[])\n  const getAllEvents = () =>{\n    axios.get(base_url+\"events\")\n    .then((res)=>{\n      \n        const allEvents = res.data.events;\n\n        const today = new Date();\n        const upcoming = allEvents.filter((event) => new Date(event.date) >= today);\n        setEvents(upcoming)\n\n    })\n    .catch((err)=>{\n      console.log(err)\n    })\n  }\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedEvent, setSelectedEvent] = useState(null);\n\n  const filteredEvents = events.filter(event =>\n    event.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white\">\n      <Navbar onSearch={setSearchQuery} />\n      <Hero />\n\n      <section className=\"px-8 py-12\">\n        <h2 className=\"text-3xl font-bold mb-8 text-blue-400\">Promoted Events</h2>\n        {filteredEvents.length > 0 ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\">\n            {filteredEvents.map(event => (\n              <div\n                key={event.id}\n                className=\"bg-gray-800/80 backdrop-blur-md border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-blue-500/30 hover:-translate-y-1 transition-all\"\n              >\n                <img\n                  src={\"https://d2lk14jtvqry1q.cloudfront.net/media/large_264_c082f43202_365ae078c9.png\"}\n                  alt={event.name}\n                  className=\"w-full h-40 object-cover rounded-xl mb-4\"\n                />\n                <h3 className=\"text-lg font-semibold text-white mb-2\">{event.name}</h3>\n                <p className=\"text-gray-400 text-sm mb-1\">üìÖ {event.date}</p>\n                <p className=\"text-gray-400 text-sm mb-1\">üìç {event.venue}</p>\n                <p className=\"text-gray-400 text-sm mb-4\">{event.shortDesc}</p>\n                <button\n                  onClick={() => setSelectedEvent(event)}\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-xl font-semibold transition\"\n                >\n                  View Details\n                </button>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-gray-400\">No events found.</p>\n        )}\n      </section>\n\n      {/* Event Modal */}\n      {selectedEvent && (\n        <EventModal\n          event={selectedEvent}\n          onClose={() => setSelectedEvent(null)}\n        />\n      )}\n    </div>\n  );\n}\n\n// Event Modal Component\nfunction EventModal({ event, onClose }) {\n  const handleRegister = () => {\n    // Redirect to login page\n    window.location.href = \"/login\";\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50\">\n      <div className=\"bg-gray-900 p-8 rounded-2xl max-w-lg w-full space-y-4 relative\">\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-white text-xl font-bold hover:text-red-500\"\n        >\n          &times;\n        </button>\n        <img\n          src={\"https://d2lk14jtvqry1q.cloudfront.net/media/large_264_c082f43202_365ae078c9.png\"}\n          alt={event.title}\n          className=\"w-full h-48 object-cover rounded-xl mb-4\"\n        />\n        <h3 className=\"text-2xl font-bold text-blue-400\">{event.name}</h3>\n        <p className=\"text-gray-400\">üìÖ {event.date}</p>\n        <p className=\"text-gray-400\">üìç {event.venue}</p>\n        <p className=\"text-gray-400 mt-2\">{event.shortDesc}</p>\n        <p className=\"text-gray-400 mt-2\">{event.about}</p>\n        <div className=\"flex gap-4 mt-4\">\n          <button\n            onClick={handleRegister}\n            className=\"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-xl font-semibold transition\"\n          >\n            Register\n          </button>\n          <button\n            onClick={onClose}\n            className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-xl font-semibold transition\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}