{"ast":null,"code":"import _objectSpread from\"C:/Users/ASUS/Downloads/event-frontend (3) (1) (1)/event-frontend (2) (1)/event-frontend/event-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{base_url}from\"../components/baseUrl\";// Compact Event Calendar Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function CompactEventCalendar(_ref){let{events=[]}=_ref;const[currentDate,setCurrentDate]=useState(new Date());const[selectedDate,setSelectedDate]=useState(null);const[showEventDetails,setShowEventDetails]=useState(false);const eventDates=events.map(event=>{const dateOnly=event.date.split(\"T\")[0];return dateOnly;});const getEventsForDate=dateStr=>{return events.filter(event=>{const eventDateOnly=event.date.split(\"T\")[0];return eventDateOnly===dateStr;});};const year=currentDate.getFullYear();const month=currentDate.getMonth();const daysInMonth=new Date(year,month+1,0).getDate();const startingDayOfWeek=new Date(year,month,1).getDay();const monthNames=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];const dayNames=[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"];const previousMonth=()=>{setCurrentDate(new Date(year,month-1,1));setSelectedDate(null);setShowEventDetails(false);};const nextMonth=()=>{setCurrentDate(new Date(year,month+1,1));setSelectedDate(null);setShowEventDetails(false);};const handleDateClick=day=>{const y=currentDate.getFullYear();const m=String(currentDate.getMonth()+1).padStart(2,\"0\");const d=String(day).padStart(2,\"0\");const dateStr=\"\".concat(y,\"-\").concat(m,\"-\").concat(d);setSelectedDate(dateStr);setShowEventDetails(true);};const calendarDays=[];for(let i=0;i<startingDayOfWeek;i++){calendarDays.push(/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square\"},\"empty-\".concat(i)));}for(let day=1;day<=daysInMonth;day++){const monthStr=String(month+1).padStart(2,\"0\");const dayStr=String(day).padStart(2,\"0\");const dateStr=\"\".concat(year,\"-\").concat(monthStr,\"-\").concat(dayStr);const hasEvent=eventDates.includes(dateStr);const today=new Date();const todayStr=\"\".concat(today.getFullYear(),\"-\").concat(String(today.getMonth()+1).padStart(2,\"0\"),\"-\").concat(String(today.getDate()).padStart(2,\"0\"));const isToday=dateStr===todayStr;const isSelected=selectedDate===dateStr;calendarDays.push(/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDateClick(day),className:\"aspect-square p-1 rounded text-xs font-medium transition-all relative flex items-center justify-center\\n          \".concat(isToday?\"ring-1 ring-blue-400\":\"\",\"\\n          \").concat(isSelected?\"bg-blue-600 text-white\":\"\",\"\\n          \").concat(hasEvent&&!isSelected?\"bg-green-500 text-white font-bold\":\"\",\"\\n          \").concat(!hasEvent&&!isSelected?\"text-gray-400 hover:bg-gray-700/30\":\"\"),children:day},day));}const selectedDayEvents=selectedDate?getEventsForDate(selectedDate):[];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/90 border border-gray-700 rounded-xl shadow-lg p-3 w-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:previousMonth,className:\"p-1 hover:bg-gray-700/50 rounded transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"15 18 9 12 15 6\",strokeWidth:\"2\"})})}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-white\",children:[monthNames[month],\" \",year]}),/*#__PURE__*/_jsx(\"button\",{onClick:nextMonth,className:\"p-1 hover:bg-gray-700/50 rounded transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"9 18 15 12 9 6\",strokeWidth:\"2\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-1 mb-1\",children:dayNames.map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-xs font-semibold text-gray-500\",children:day},day))}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-1 mb-3\",children:calendarDays}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-3 pt-2 border-t border-gray-700/50 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded bg-green-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Event\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded ring-1 ring-blue-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Today\"})]})]}),showEventDetails&&selectedDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 pt-3 border-t border-gray-700/50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-xs font-semibold text-gray-300\",children:new Date(selectedDate+\"T00:00:00\").toLocaleDateString(\"en-US\",{month:\"short\",day:\"numeric\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEventDetails(false),className:\"text-gray-500 hover:text-gray-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),selectedDayEvents.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 italic\",children:\"No events\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 max-h-32 overflow-y-auto\",children:selectedDayEvents.map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700/40 p-2 rounded text-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-medium truncate\",children:event.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 truncate\",children:event.venue})]},event._id||event.id))})]})]});}function UserDashboard(){const[eventsData,setEventsData]=useState([]);const[upcomingEvents,setUpcomingEvents]=useState([]);const[pastEvents,setPastEvents]=useState([]);const[date,setDate]=useState(\"\");const[registeredEvents,setRegisteredEvents]=useState([]);const[attendedEvents,setAttendedEvents]=useState([]);const[recentlyRegistered,setRecentlyRegistered]=useState(null);const[viewStates,setViewStates]=useState({});const[showEventForm,setShowEventForm]=useState(false);const[feedbackInputs,setFeedbackInputs]=useState({});const[feedbackList,setFeedbackList]=useState({});const[loadingFeedback,setLoadingFeedback]=useState({});// Tabs and filters\nconst[activeTab,setActiveTab]=useState(\"all\");// \"all\" | \"registered\" | \"attended\"\nconst[filters,setFilters]=useState({date:\"\",name:\"\",venue:\"\"});// Confirmation modal\nconst[confirmEvent,setConfirmEvent]=useState(null);const[showConfirm,setShowConfirm]=useState(false);// Event form states\nconst[editEvent,setEditEvent]=useState(null);const[name,setName]=useState(\"\");const[eventDate,setEventDate]=useState(\"\");const[venue,setVenue]=useState(\"\");const[strength,setStrength]=useState(\"\");const[shortDesc,setShortDesc]=useState(\"\");const[about,setAbout]=useState(\"\");const[learning,setLearning]=useState(\"\");const[useCustomVenue,setUseCustomVenue]=useState(false);const[notificationsData,setNotificationsData]=useState([]);const[loadingNotifications,setLoadingNotifications]=useState(false);const[notificationsError,setNotificationsError]=useState(\"\");useEffect(()=>{getAllVenues();},[]);const[venues,setVenues]=useState([]);const getAllVenues=()=>{axios.get(base_url+\"venues\").then(res=>{setVenues(res.data.venues);});};// call this e.g. in useEffect or on click\nconst handleNotifications=()=>{const token=localStorage.getItem(\"token\");if(!token){alert(\"Please login again\");return;}setLoadingNotifications(true);axios.get(base_url+\"notifications\",{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>setNotificationsData(res.data.notifications||[])).catch(err=>{var _err$response,_err$response$data;console.error(err);alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to load notifications\");}).finally(()=>setLoadingNotifications(false));};const handleMarkOneRead=id=>{const token=localStorage.getItem(\"token\");if(!token){alert(\"Please login again\");return;}axios.put(base_url+\"notifications/\".concat(id,\"/read\"),{},{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>{setNotificationsData(prev=>prev.map(n=>n._id===id?_objectSpread(_objectSpread({},n),{},{isRead:true}):n));}).catch(err=>{var _err$response2,_err$response2$data;console.error(err);alert(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Failed to update notification\");});};const handleMarkAllRead=()=>{const token=localStorage.getItem(\"token\");if(!token){alert(\"Please login again\");return;}axios.put(base_url+\"notifications/read-all\",{},{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>{setNotificationsData(prev=>prev.map(n=>_objectSpread(_objectSpread({},n),{},{isRead:true})));}).catch(err=>{var _err$response3,_err$response3$data;console.error(err);alert(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"Failed to update notifications\");});};// decode userId from JWT\nconst getUserIdFromToken=()=>{try{const token=localStorage.getItem(\"token\");if(!token)return null;const payload=JSON.parse(atob(token.split(\".\")[1]));return payload.userId;}catch(e){return null;}};useEffect(()=>{getAllEvents();fetchRegisteredEventsFromBackend();fetchAttendedEventsFromBackend();},[]);// ====== FEEDBACK LOGIC ======\nconst loadFeedbackForEvent=async eventId=>{try{setLoadingFeedback(prev=>_objectSpread(_objectSpread({},prev),{},{[eventId]:true}));const res=await axios.get(\"\".concat(base_url,\"events/\").concat(eventId,\"/feedback\"));setFeedbackList(prev=>_objectSpread(_objectSpread({},prev),{},{[eventId]:res.data.feedbacks||[]}));}catch(err){console.error(\"Error fetching feedback\",err);}finally{setLoadingFeedback(prev=>_objectSpread(_objectSpread({},prev),{},{[eventId]:false}));}};const submitFeedback=async eventId=>{var _feedbackInputs$event;const text=(_feedbackInputs$event=feedbackInputs[eventId])===null||_feedbackInputs$event===void 0?void 0:_feedbackInputs$event.trim();if(!text){alert(\"Please enter feedback\");return;}try{const token=localStorage.getItem(\"token\");if(!token){alert(\"Please login again\");return;}await axios.post(\"\".concat(base_url,\"events/\").concat(eventId,\"/feedback\"),{feedback:text},{headers:{Authorization:\"Bearer \".concat(token)}});setFeedbackInputs(prev=>_objectSpread(_objectSpread({},prev),{},{[eventId]:\"\"}));await loadFeedbackForEvent(eventId);}catch(err){var _err$response4,_err$response4$data;console.error(\"Error submitting feedback\",err);const msg=((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||\"Failed to submit feedback\";alert(msg);}};// ====== BACKEND FETCHES ======\nconst fetchRegisteredEventsFromBackend=async()=>{try{const token=localStorage.getItem(\"token\");const userId=getUserIdFromToken();if(!token||!userId)return;const res=await axios.get(\"\".concat(base_url,\"users/\").concat(userId,\"/registrations\"),{headers:{Authorization:\"Bearer \".concat(token)}});setRegisteredEvents(res.data.events||[]);}catch(err){console.error(\"Error fetching registered events\",err);}};const fetchAttendedEventsFromBackend=async()=>{try{const token=localStorage.getItem(\"token\");const userId=getUserIdFromToken();if(!token||!userId)return;const res=await axios.get(\"\".concat(base_url,\"users/\").concat(userId,\"/attended\"),{headers:{Authorization:\"Bearer \".concat(token)}});setAttendedEvents(res.data.events||[]);}catch(err){console.error(\"Error fetching attended events\",err);}};const getAllEvents=()=>{axios.get(base_url+\"events\").then(res=>{var _res$data;const allEvents=(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.events)||res.data||[];setEventsData(allEvents);const today=new Date();const upcoming=allEvents.filter(event=>new Date(event.date)>=today);const past=allEvents.filter(event=>new Date(event.date)<today);upcoming.sort((a,b)=>new Date(a.date)-new Date(b.date));past.sort((a,b)=>new Date(b.date)-new Date(a.date));setUpcomingEvents(upcoming);setPastEvents(past);}).catch(err=>console.log(err.message));};// ====== EVENT CREATE / EDIT ======\nconst handleSaveEvent=async e=>{e.preventDefault();if(!name||!eventDate||!venue||!strength||!shortDesc||!about||!learning){alert(\"Please fill all fields\");return;}const eventData={name,date:eventDate,venue,strength:parseInt(strength),shortDesc,about,learning};const token=localStorage.getItem(\"token\");const config={headers:{Authorization:\"Bearer \".concat(token)}};if(editEvent){axios.put(base_url+\"events/\".concat(editEvent.id),eventData,config).then(()=>{alert(\"Event updated and submitted for re-approval!\");resetForm();getAllEvents();}).catch(err=>{var _err$response5,_err$response5$data;console.log(err);alert(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||\"Failed to update event\");});}else{axios.post(base_url+\"events\",eventData,config).then(()=>{alert(\"Event submitted for admin approval!\");resetForm();getAllEvents();}).catch(err=>{var _err$response6,_err$response6$data;console.log(err);alert(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.message)||\"Failed to create event\");});}};const resetForm=()=>{setEditEvent(null);setName(\"\");setEventDate(\"\");setVenue(\"\");setStrength(\"\");setShortDesc(\"\");setAbout(\"\");setLearning(\"\");setShowEventForm(false);};const handleEditClick=event=>{setEditEvent(event);setName(event.name);setEventDate(event.date);setVenue(event.venue);setStrength(event.strength);setShortDesc(event.shortDesc);setAbout(event.about);setLearning(event.learning);setShowEventForm(true);};// ====== REGISTRATION FLOW ======\nconst isEventFilled=event=>{const max=parseInt(event.strength||0,10);const current=parseInt(event.currentRegistrations||0,10);return max>0&&current>=max;};const updateRegisteredLocal=event=>{const already=registeredEvents.find(e=>(e.id||e._id)===(event.id||event._id));if(!already){setRegisteredEvents([...registeredEvents,event]);setRecentlyRegistered(event);}else{setRecentlyRegistered(_objectSpread(_objectSpread({},event),{},{already:true}));}setUpcomingEvents(prev=>prev.map(e=>(e.id||e._id)===(event.id||event._id)?_objectSpread(_objectSpread({},e),{},{currentRegistrations:(e.currentRegistrations||0)+1}):e));};const handleRegisterClick=event=>{setConfirmEvent(event);setShowConfirm(true);};const confirmRegistration=async()=>{if(!confirmEvent)return;try{const token=localStorage.getItem(\"token\");if(!token){alert(\"Please login again\");return;}await axios.post(\"\".concat(base_url,\"events/\").concat(confirmEvent.id||confirmEvent._id,\"/register\"),{},{headers:{Authorization:\"Bearer \".concat(token)}});updateRegisteredLocal(confirmEvent);setShowConfirm(false);setConfirmEvent(null);// also refresh attended events (in case event is now past)\nfetchAttendedEventsFromBackend();}catch(err){var _err$response7,_err$response7$data;console.error(\"Error registering for event\",err);const msg=((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.message)||\"Failed to register\";alert(msg);setShowConfirm(false);setConfirmEvent(null);}};const handleLogout=()=>{localStorage.removeItem(\"token\");window.location.href=\"/\";};// ====== FILTER HELPERS ======\nconst filteredUpcomingEvents=date?upcomingEvents.filter(event=>event.date===date):upcomingEvents;const applyFilters=list=>{return list.filter(ev=>{var _ev$name,_ev$venue;const dateStr=ev.date?ev.date.split(\"T\")[0]:\"\";const matchesDate=filters.date?dateStr===filters.date:true;const matchesName=filters.name?(_ev$name=ev.name)===null||_ev$name===void 0?void 0:_ev$name.toLowerCase().includes(filters.name.toLowerCase()):true;const matchesVenue=filters.venue?(_ev$venue=ev.venue)===null||_ev$venue===void 0?void 0:_ev$venue.toLowerCase().includes(filters.venue.toLowerCase()):true;return matchesDate&&matchesName&&matchesVenue;});};// ====== RENDER ======\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"bg-gray-950 bg-opacity-80 backdrop-blur-md text-white px-8 py-4 flex justify-between items-center shadow-lg border-b border-gray-700\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-blue-400\",children:\"Event Coordination Engine\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-8 text-lg\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/home\",className:\"hover:text-blue-300 transition\",children:\"Home\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"all\"),className:\"transition \".concat(activeTab===\"all\"?\"text-blue-300 underline\":\"hover:text-blue-300\"),children:\"Browse Events\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"registered\"),className:\"transition \".concat(activeTab===\"registered\"?\"text-blue-300 underline\":\"hover:text-blue-300\"),children:\"Registered Events\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"attended\"),className:\"transition \".concat(activeTab===\"attended\"?\"text-blue-300 underline\":\"hover:text-blue-300\"),children:\"Attended Events\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleNotifications();setActiveTab(\"notifications\");},className:\"hover:text-red-400 transition\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEventForm(!showEventForm),className:\"hover:text-green-300 transition\",children:showEventForm?\"Hide Form\":\"Create Event\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"hover:text-blue-400 transition\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex px-8 pt-6 pb-12 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:block\",children:/*#__PURE__*/_jsx(CompactEventCalendar,{events:eventsData})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[recentlyRegistered&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/90 border \".concat(recentlyRegistered.already?\"border-yellow-500\":\"border-green-500\",\" p-6 rounded-2xl shadow-lg mb-4\"),children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold mb-2\",children:[recentlyRegistered.already?\"You already registered for\":\"Successfully registered for\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-300\",children:recentlyRegistered.name})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setRecentlyRegistered(null),className:\"bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded transition\",children:\"Close\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-4xl font-bold text-blue-400 tracking-wide\",children:[\"Welcome, \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"User\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mt-3 text-lg\",children:\"Discover and register for exciting upcoming events\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _document$getElementB;return(_document$getElementB=document.getElementById(\"browse\"))===null||_document$getElementB===void 0?void 0:_document$getElementB.scrollIntoView({behavior:\"smooth\"});},className:\"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg transition\",children:\"Browse Events\"})]}),showEventForm&&/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-blue-400\",children:editEvent?\"Edit Event\":\"Create Event\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"text-red-400 hover:text-red-500 text-2xl\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-900/30 border border-blue-700 p-3 rounded-lg mb-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-300 text-sm\",children:\"Your event will be submitted for admin approval before it appears publicly.\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSaveEvent,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Event Name\",value:name,onChange:e=>setName(e.target.value),className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:eventDate,onChange:e=>setEventDate(e.target.value),className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsxs(\"select\",{value:useCustomVenue?\"other\":venue,onChange:e=>{if(e.target.value===\"other\"){setUseCustomVenue(true);setVenue(\"\");}else{setUseCustomVenue(false);setVenue(e.target.value);}},className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a venue\"}),venues===null||venues===void 0?void 0:venues.map((venue,id)=>/*#__PURE__*/_jsx(\"option\",{value:venue===null||venue===void 0?void 0:venue.name,children:venue===null||venue===void 0?void 0:venue.name},id)),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Others (manual entry)\"})]}),useCustomVenue&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter venue manually\",value:venue,onChange:e=>setVenue(e.target.value),className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Expected Participants\",value:strength,onChange:e=>setStrength(e.target.value),className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Short Description\",value:shortDesc,onChange:e=>setShortDesc(e.target.value),className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white h-20 resize-none focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"About Event\",value:about,onChange:e=>setAbout(e.target.value),className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white h-24 resize-none focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Learning Outcomes\",value:learning,onChange:e=>setLearning(e.target.value),className:\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white h-24 resize-none focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-600 hover:bg-green-700 px-6 py-2 rounded transition\",children:editEvent?\"Update Event\":\"Submit Event\"})]})]})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"pb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-10 relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-0 md:top-[-50px] flex flex-col items-end\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-blue-400 text-sm mb-1 font-semibold\",children:\"Browse by Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value),className:\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDate(\"\"),className:\"text-red-400 text-xs mt-2 underline hover:text-red-500\",children:\"Clear Filter\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 mt-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10 flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-400 mb-1\",children:\"Filter by Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.date,onChange:e=>setFilters(f=>_objectSpread(_objectSpread({},f),{},{date:e.target.value})),className:\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-400 mb-1\",children:\"Filter by Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Event name\",value:filters.name,onChange:e=>setFilters(f=>_objectSpread(_objectSpread({},f),{},{name:e.target.value})),className:\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-400 mb-1\",children:\"Filter by Venue\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Venue\",value:filters.venue,onChange:e=>setFilters(f=>_objectSpread(_objectSpread({},f),{},{venue:e.target.value})),className:\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),(filters.date||filters.name||filters.venue)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilters({date:\"\",name:\"\",venue:\"\"}),className:\"self-end text-xs text-red-400 underline hover:text-red-500\",children:\"Clear All Filters\"})]}),activeTab===\"all\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{id:\"browse\",className:\"mb-12\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-6 text-blue-400\",children:\"Upcoming Events\"}),applyFilters(filteredUpcomingEvents).length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"No upcoming events for this selection.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:applyFilters(filteredUpcomingEvents).map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-blue-400/20 transition-all\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-white mb-2\",children:event.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.date}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.venue}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.shortDesc}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs mb-1\",children:[event.currentRegistrations||0,\" /\",\" \",event.strength||0,\" registered\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-3\",children:[isEventFilled(event)?/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"bg-gray-600 text-gray-300 cursor-not-allowed py-2 px-4 rounded\",children:\"Registrations Filled\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRegisterClick(event),className:\"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded transition\",children:\"Register\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewStates(prev=>_objectSpread(_objectSpread({},prev),{},{[event.id||event._id]:!prev[event.id||event._id]})),className:\"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition\",children:viewStates[event.id||event._id]?\"Hide Details\":\"View\"})]}),viewStates[event.id||event._id]&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-gray-700/50 p-3 rounded-lg text-gray-300 text-sm space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"About Event\"}),\" \",event.about]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Learning Outcomes\"}),\" \",event.learning]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Strength\"}),\" \",event.strength]})]})]},event.id||event._id))})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"past-events\",className:\"mb-12\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-6 text-blue-400\",children:\"Past Events\"}),pastEvents.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"No past events yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:applyFilters(pastEvents).map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-gray-500/30 transition-all\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-white mb-2\",children:event.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.date}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.venue}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:[\"Strength: \",event.strength]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-2\",children:event.shortDesc}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-400 mb-1\",children:\"Your Feedback\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:2,placeholder:\"Share your experience about this event\",value:feedbackInputs[event.id||event._id]||\"\",onChange:e=>setFeedbackInputs(prev=>_objectSpread(_objectSpread({},prev),{},{[event.id||event._id]:e.target.value})),className:\"w-full p-2 rounded bg-gray-900 border border-gray-600 text-white text-sm focus:border-blue-500 focus:outline-none\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>submitFeedback(event.id||event._id),className:\"bg-blue-600 hover:bg-blue-700 text-white text-sm py-1 px-3 rounded transition\",children:\"Submit Feedback\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadFeedbackForEvent(event.id||event._id),className:\"text-xs text-blue-300 underline hover:text-blue-200\",children:loadingFeedback[event.id||event._id]?\"Loading...\":\"View Feedbacks\"})]}),feedbackList[event.id||event._id]&&feedbackList[event.id||event._id].length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 border-t border-gray-700 pt-2 max-h-32 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mb-1\",children:\"Feedback from participants\"}),feedbackList[event.id||event._id].map(fb=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-300 font-semibold\",children:fb.userName||\"User\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-200\",children:fb.feedback})]},fb._id))]})]})]},event.id||event._id))})]})]}),activeTab===\"registered\"&&/*#__PURE__*/_jsxs(\"section\",{id:\"registered\",className:\"mb-12\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-6 text-blue-400\",children:\"My Registered Events\"}),applyFilters(registeredEvents).length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"You have not registered for any events yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:applyFilters(registeredEvents).map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-blue-400/20 transition-all\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-white mb-2\",children:event.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.date}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.venue}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.shortDesc}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-400 font-semibold\",children:\"\\u2705 You are registered for this event\"})]},event._id||event.id))})]}),activeTab===\"attended\"&&/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-6 text-blue-400\",children:\"Attended Events\"}),applyFilters(attendedEvents).length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"You have not attended any events yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:applyFilters(attendedEvents).map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-gray-500/30 transition-all\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-white mb-2\",children:event.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.date}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:event.venue}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mb-1\",children:[\"Strength: \",event.strength]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-2\",children:event.shortDesc}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-400 font-semibold\",children:\"\\u2705 Marked as attended (past event)\"})]},event._id||event.id))})]}),activeTab===\"notifications\"&&/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-blue-400\",children:[\"Notifications (\",notificationsData.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleNotifications,className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition\",children:\"\\uD83D\\uDD04 Refresh\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleMarkAllRead,className:\"bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded transition text-sm\",children:\"Mark all as read\"})]})]}),notificationsData.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800/80 border border-gray-700 p-8 rounded-2xl text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-lg\",children:\"\\u2705 No notifications right now\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:notificationsData.map(n=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/80 border-2 p-6 rounded-2xl shadow-lg transition-all \".concat(n.isRead?\"border-gray-700 hover:shadow-gray-500/20\":\"border-blue-500 hover:shadow-blue-500/30\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-semibold text-white mb-1\",children:n.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm whitespace-pre-line\",children:n.message}),n.eventId&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs mt-2\",children:[\"Related to event ID:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-400\",children:n.eventId})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-3 py-1 rounded-full \".concat(n.isRead?\"bg-gray-600 text-white\":\"bg-blue-600 text-white\"),children:n.isRead?\"READ\":\"NEW\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 text-xs text-gray-400\",children:n.createdAt&&/*#__PURE__*/_jsx(\"span\",{children:new Date(n.createdAt).toLocaleString()})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-3\",children:!n.isRead&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMarkOneRead(n._id),className:\"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition font-semibold text-sm\",children:\"\\u2713 Mark as read\"})})]},n._id))})]})]})]})})]})]}),showConfirm&&confirmEvent&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 border border-gray-700 p-6 rounded-2xl max-w-lg w-11/12\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-blue-400 mb-3\",children:\"Confirm Registration\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[\"Are you sure you want to register for\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:confirmEvent.name}),\"?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-1\",children:confirmEvent.date}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-1\",children:confirmEvent.venue}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-2\",children:confirmEvent.shortDesc}),confirmEvent.about&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"About:\"}),\" \",confirmEvent.about]}),confirmEvent.learning&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Learning Outcomes:\"}),\" \",confirmEvent.learning]}),confirmEvent.strength&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 text-sm mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Strength:\"}),\" \",confirmEvent.strength]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowConfirm(false);setConfirmEvent(null);},className:\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmRegistration,className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition\",children:\"Yes, Register\"})]})]})})]});}export default UserDashboard;","map":{"version":3,"names":["axios","useEffect","useState","base_url","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CompactEventCalendar","_ref","events","currentDate","setCurrentDate","Date","selectedDate","setSelectedDate","showEventDetails","setShowEventDetails","eventDates","map","event","dateOnly","date","split","getEventsForDate","dateStr","filter","eventDateOnly","year","getFullYear","month","getMonth","daysInMonth","getDate","startingDayOfWeek","getDay","monthNames","dayNames","previousMonth","nextMonth","handleDateClick","day","y","m","String","padStart","d","concat","calendarDays","i","push","className","monthStr","dayStr","hasEvent","includes","today","todayStr","isToday","isSelected","onClick","children","selectedDayEvents","fill","stroke","viewBox","points","strokeWidth","toLocaleDateString","strokeLinecap","strokeLinejoin","length","name","venue","_id","id","UserDashboard","eventsData","setEventsData","upcomingEvents","setUpcomingEvents","pastEvents","setPastEvents","setDate","registeredEvents","setRegisteredEvents","attendedEvents","setAttendedEvents","recentlyRegistered","setRecentlyRegistered","viewStates","setViewStates","showEventForm","setShowEventForm","feedbackInputs","setFeedbackInputs","feedbackList","setFeedbackList","loadingFeedback","setLoadingFeedback","activeTab","setActiveTab","filters","setFilters","confirmEvent","setConfirmEvent","showConfirm","setShowConfirm","editEvent","setEditEvent","setName","eventDate","setEventDate","setVenue","strength","setStrength","shortDesc","setShortDesc","about","setAbout","learning","setLearning","useCustomVenue","setUseCustomVenue","notificationsData","setNotificationsData","loadingNotifications","setLoadingNotifications","notificationsError","setNotificationsError","getAllVenues","venues","setVenues","get","then","res","data","handleNotifications","token","localStorage","getItem","alert","headers","Authorization","notifications","catch","err","_err$response","_err$response$data","console","error","response","message","finally","handleMarkOneRead","put","prev","n","_objectSpread","isRead","_err$response2","_err$response2$data","handleMarkAllRead","_err$response3","_err$response3$data","getUserIdFromToken","payload","JSON","parse","atob","userId","e","getAllEvents","fetchRegisteredEventsFromBackend","fetchAttendedEventsFromBackend","loadFeedbackForEvent","eventId","feedbacks","submitFeedback","_feedbackInputs$event","text","trim","post","feedback","_err$response4","_err$response4$data","msg","_res$data","allEvents","upcoming","past","sort","a","b","log","handleSaveEvent","preventDefault","eventData","parseInt","config","resetForm","_err$response5","_err$response5$data","_err$response6","_err$response6$data","handleEditClick","isEventFilled","max","current","currentRegistrations","updateRegisteredLocal","already","find","handleRegisterClick","confirmRegistration","_err$response7","_err$response7$data","handleLogout","removeItem","window","location","href","filteredUpcomingEvents","applyFilters","list","ev","_ev$name","_ev$venue","matchesDate","matchesName","toLowerCase","matchesVenue","_document$getElementB","document","getElementById","scrollIntoView","behavior","onSubmit","type","placeholder","value","onChange","target","f","disabled","rows","fb","userName","title","createdAt","toLocaleString"],"sources":["C:/Users/ASUS/Downloads/event-frontend (3) (1) (1)/event-frontend (2) (1)/event-frontend/event-frontend/src/pages/UserDashboard.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { base_url } from \"../components/baseUrl\";\r\n\r\n// Compact Event Calendar Component\r\nfunction CompactEventCalendar({ events = [] }) {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [showEventDetails, setShowEventDetails] = useState(false);\r\n\r\n  const eventDates = events.map((event) => {\r\n    const dateOnly = event.date.split(\"T\")[0];\r\n    return dateOnly;\r\n  });\r\n\r\n  const getEventsForDate = (dateStr) => {\r\n    return events.filter((event) => {\r\n      const eventDateOnly = event.date.split(\"T\")[0];\r\n      return eventDateOnly === dateStr;\r\n    });\r\n  };\r\n\r\n  const year = currentDate.getFullYear();\r\n  const month = currentDate.getMonth();\r\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n  const startingDayOfWeek = new Date(year, month, 1).getDay();\r\n\r\n  const monthNames = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ];\r\n  const dayNames = [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"];\r\n\r\n  const previousMonth = () => {\r\n    setCurrentDate(new Date(year, month - 1, 1));\r\n    setSelectedDate(null);\r\n    setShowEventDetails(false);\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentDate(new Date(year, month + 1, 1));\r\n    setSelectedDate(null);\r\n    setShowEventDetails(false);\r\n  };\r\n\r\n  const handleDateClick = (day) => {\r\n    const y = currentDate.getFullYear();\r\n    const m = String(currentDate.getMonth() + 1).padStart(2, \"0\");\r\n    const d = String(day).padStart(2, \"0\");\r\n    const dateStr = `${y}-${m}-${d}`;\r\n\r\n    setSelectedDate(dateStr);\r\n    setShowEventDetails(true);\r\n  };\r\n\r\n  const calendarDays = [];\r\n\r\n  for (let i = 0; i < startingDayOfWeek; i++) {\r\n    calendarDays.push(<div key={`empty-${i}`} className=\"aspect-square\" />);\r\n  }\r\n\r\n  for (let day = 1; day <= daysInMonth; day++) {\r\n    const monthStr = String(month + 1).padStart(2, \"0\");\r\n    const dayStr = String(day).padStart(2, \"0\");\r\n    const dateStr = `${year}-${monthStr}-${dayStr}`;\r\n\r\n    const hasEvent = eventDates.includes(dateStr);\r\n\r\n    const today = new Date();\r\n    const todayStr = `${today.getFullYear()}-${String(\r\n      today.getMonth() + 1\r\n    ).padStart(2, \"0\")}-${String(today.getDate()).padStart(2, \"0\")}`;\r\n    const isToday = dateStr === todayStr;\r\n\r\n    const isSelected = selectedDate === dateStr;\r\n\r\n    calendarDays.push(\r\n      <button\r\n        key={day}\r\n        onClick={() => handleDateClick(day)}\r\n        className={`aspect-square p-1 rounded text-xs font-medium transition-all relative flex items-center justify-center\r\n          ${isToday ? \"ring-1 ring-blue-400\" : \"\"}\r\n          ${isSelected ? \"bg-blue-600 text-white\" : \"\"}\r\n          ${hasEvent && !isSelected ? \"bg-green-500 text-white font-bold\" : \"\"}\r\n          ${!hasEvent && !isSelected\r\n            ? \"text-gray-400 hover:bg-gray-700/30\"\r\n            : \"\"\r\n          }`}\r\n      >\r\n        {day}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  const selectedDayEvents = selectedDate ? getEventsForDate(selectedDate) : [];\r\n\r\n  return (\r\n    <div className=\"bg-gray-800/90 border border-gray-700 rounded-xl shadow-lg p-3 w-64\">\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <button\r\n          onClick={previousMonth}\r\n          className=\"p-1 hover:bg-gray-700/50 rounded transition\"\r\n        >\r\n          <svg\r\n            className=\"w-4 h-4 text-gray-400\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <polyline points=\"15 18 9 12 15 6\" strokeWidth=\"2\" />\r\n          </svg>\r\n        </button>\r\n\r\n        <h4 className=\"text-sm font-semibold text-white\">\r\n          {monthNames[month]} {year}\r\n        </h4>\r\n\r\n        <button\r\n          onClick={nextMonth}\r\n          className=\"p-1 hover:bg-gray-700/50 rounded transition\"\r\n        >\r\n          <svg\r\n            className=\"w-4 h-4 text-gray-400\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <polyline points=\"9 18 15 12 9 6\" strokeWidth=\"2\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-7 gap-1 mb-1\">\r\n        {dayNames.map((day) => (\r\n          <div\r\n            key={day}\r\n            className=\"text-center text-xs font-semibold text-gray-500\"\r\n          >\r\n            {day}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-7 gap-1 mb-3\">{calendarDays}</div>\r\n\r\n      <div className=\"flex items-center justify-center gap-3 pt-2 border-t border-gray-700/50 text-xs\">\r\n        <div className=\"flex items-center gap-1\">\r\n          <div className=\"w-3 h-3 rounded bg-green-500\" />\r\n          <span className=\"text-gray-400\">Event</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1\">\r\n          <div className=\"w-3 h-3 rounded ring-1 ring-blue-400\" />\r\n          <span className=\"text-gray-400\">Today</span>\r\n        </div>\r\n      </div>\r\n\r\n      {showEventDetails && selectedDate && (\r\n        <div className=\"mt-3 pt-3 border-t border-gray-700/50\">\r\n          <div className=\"flex justify-between items-center mb-2\">\r\n            <h5 className=\"text-xs font-semibold text-gray-300\">\r\n              {new Date(\r\n                selectedDate + \"T00:00:00\"\r\n              ).toLocaleDateString(\"en-US\", {\r\n                month: \"short\",\r\n                day: \"numeric\",\r\n              })}\r\n            </h5>\r\n            <button\r\n              onClick={() => setShowEventDetails(false)}\r\n              className=\"text-gray-500 hover:text-gray-300\"\r\n            >\r\n              <svg\r\n                className=\"w-3 h-3\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth=\"2\"\r\n                  d=\"M6 18L18 6M6 6l12 12\"\r\n                />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {selectedDayEvents.length === 0 ? (\r\n            <p className=\"text-xs text-gray-500 italic\">No events</p>\r\n          ) : (\r\n            <div className=\"space-y-1 max-h-32 overflow-y-auto\">\r\n              {selectedDayEvents.map((event) => (\r\n                <div\r\n                  key={event._id || event.id}\r\n                  className=\"bg-gray-700/40 p-2 rounded text-xs\"\r\n                >\r\n                  <p className=\"text-white font-medium truncate\">\r\n                    {event.name}\r\n                  </p>\r\n                  <p className=\"text-gray-400 truncate\">{event.venue}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction UserDashboard() {\r\n  const [eventsData, setEventsData] = useState([]);\r\n  const [upcomingEvents, setUpcomingEvents] = useState([]);\r\n  const [pastEvents, setPastEvents] = useState([]);\r\n\r\n  const [date, setDate] = useState(\"\");\r\n\r\n  const [registeredEvents, setRegisteredEvents] = useState([]);\r\n  const [attendedEvents, setAttendedEvents] = useState([]);\r\n\r\n  const [recentlyRegistered, setRecentlyRegistered] = useState(null);\r\n  const [viewStates, setViewStates] = useState({});\r\n\r\n  const [showEventForm, setShowEventForm] = useState(false);\r\n\r\n  const [feedbackInputs, setFeedbackInputs] = useState({});\r\n  const [feedbackList, setFeedbackList] = useState({});\r\n  const [loadingFeedback, setLoadingFeedback] = useState({});\r\n\r\n  // Tabs and filters\r\n  const [activeTab, setActiveTab] = useState(\"all\"); // \"all\" | \"registered\" | \"attended\"\r\n  const [filters, setFilters] = useState({\r\n    date: \"\",\r\n    name: \"\",\r\n    venue: \"\",\r\n  });\r\n\r\n  // Confirmation modal\r\n  const [confirmEvent, setConfirmEvent] = useState(null);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  // Event form states\r\n  const [editEvent, setEditEvent] = useState(null);\r\n  const [name, setName] = useState(\"\");\r\n  const [eventDate, setEventDate] = useState(\"\");\r\n  const [venue, setVenue] = useState(\"\");\r\n  const [strength, setStrength] = useState(\"\");\r\n  const [shortDesc, setShortDesc] = useState(\"\");\r\n  const [about, setAbout] = useState(\"\");\r\n  const [learning, setLearning] = useState(\"\");\r\n\r\n  const [useCustomVenue , setUseCustomVenue] = useState(false)\r\n\r\n  const [notificationsData, setNotificationsData] = useState([]);\r\n  const [loadingNotifications, setLoadingNotifications] = useState(false);\r\n  const [notificationsError, setNotificationsError] = useState(\"\");\r\n\r\n  useEffect(()=>{\r\n    getAllVenues()\r\n  },[])\r\n\r\n  const [venues,setVenues] = useState([])\r\n  const getAllVenues = () =>{\r\n    axios.get(base_url+\"venues\")\r\n    .then((res)=>{\r\n      setVenues(res.data.venues)\r\n    })\r\n  }\r\n\r\n  // call this e.g. in useEffect or on click\r\n\r\n  const handleNotifications = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please login again\");\r\n      return;\r\n    }\r\n    setLoadingNotifications(true);\r\n    axios\r\n      .get(base_url + \"notifications\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n      .then((res) => setNotificationsData(res.data.notifications || []))\r\n      .catch((err) => {\r\n        console.error(err);\r\n        alert(err.response?.data?.message || \"Failed to load notifications\");\r\n      })\r\n      .finally(() => setLoadingNotifications(false));\r\n  };\r\n\r\n  const handleMarkOneRead = (id) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please login again\");\r\n      return;\r\n    }\r\n    axios\r\n      .put(base_url + `notifications/${id}/read`, {}, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n      .then(() => {\r\n        setNotificationsData((prev) =>\r\n          prev.map((n) =>\r\n            n._id === id ? { ...n, isRead: true } : n\r\n          )\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        alert(err.response?.data?.message || \"Failed to update notification\");\r\n      });\r\n  };\r\n\r\n  const handleMarkAllRead = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please login again\");\r\n      return;\r\n    }\r\n    axios\r\n      .put(base_url + \"notifications/read-all\", {}, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n      .then(() => {\r\n        setNotificationsData((prev) =>\r\n          prev.map((n) => ({ ...n, isRead: true }))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        alert(err.response?.data?.message || \"Failed to update notifications\");\r\n      });\r\n  };\r\n\r\n  // decode userId from JWT\r\n  const getUserIdFromToken = () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return null;\r\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n      return payload.userId;\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllEvents();\r\n    fetchRegisteredEventsFromBackend();\r\n    fetchAttendedEventsFromBackend();\r\n  }, []);\r\n\r\n  // ====== FEEDBACK LOGIC ======\r\n\r\n  const loadFeedbackForEvent = async (eventId) => {\r\n    try {\r\n      setLoadingFeedback((prev) => ({ ...prev, [eventId]: true }));\r\n\r\n      const res = await axios.get(`${base_url}events/${eventId}/feedback`);\r\n\r\n      setFeedbackList((prev) => ({\r\n        ...prev,\r\n        [eventId]: res.data.feedbacks || [],\r\n      }));\r\n    } catch (err) {\r\n      console.error(\"Error fetching feedback\", err);\r\n    } finally {\r\n      setLoadingFeedback((prev) => ({ ...prev, [eventId]: false }));\r\n    }\r\n  };\r\n\r\n  const submitFeedback = async (eventId) => {\r\n    const text = feedbackInputs[eventId]?.trim();\r\n\r\n    if (!text) {\r\n      alert(\"Please enter feedback\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        alert(\"Please login again\");\r\n        return;\r\n      }\r\n\r\n      await axios.post(\r\n        `${base_url}events/${eventId}/feedback`,\r\n        { feedback: text },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      setFeedbackInputs((prev) => ({ ...prev, [eventId]: \"\" }));\r\n      await loadFeedbackForEvent(eventId);\r\n    } catch (err) {\r\n      console.error(\"Error submitting feedback\", err);\r\n      const msg =\r\n        err.response?.data?.message || \"Failed to submit feedback\";\r\n      alert(msg);\r\n    }\r\n  };\r\n\r\n  // ====== BACKEND FETCHES ======\r\n\r\n  const fetchRegisteredEventsFromBackend = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const userId = getUserIdFromToken();\r\n      if (!token || !userId) return;\r\n\r\n      const res = await axios.get(\r\n        `${base_url}users/${userId}/registrations`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      setRegisteredEvents(res.data.events || []);\r\n    } catch (err) {\r\n      console.error(\"Error fetching registered events\", err);\r\n    }\r\n  };\r\n\r\n  const fetchAttendedEventsFromBackend = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const userId = getUserIdFromToken();\r\n      if (!token || !userId) return;\r\n\r\n      const res = await axios.get(\r\n        `${base_url}users/${userId}/attended`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      setAttendedEvents(res.data.events || []);\r\n    } catch (err) {\r\n      console.error(\"Error fetching attended events\", err);\r\n    }\r\n  };\r\n\r\n  const getAllEvents = () => {\r\n    axios\r\n      .get(base_url + \"events\")\r\n      .then((res) => {\r\n        const allEvents = res?.data?.events || res.data || [];\r\n        setEventsData(allEvents);\r\n\r\n        const today = new Date();\r\n\r\n        const upcoming = allEvents.filter(\r\n          (event) => new Date(event.date) >= today\r\n        );\r\n        const past = allEvents.filter(\r\n          (event) => new Date(event.date) < today\r\n        );\r\n\r\n        upcoming.sort(\r\n          (a, b) => new Date(a.date) - new Date(b.date)\r\n        );\r\n        past.sort(\r\n          (a, b) => new Date(b.date) - new Date(a.date)\r\n        );\r\n\r\n        setUpcomingEvents(upcoming);\r\n        setPastEvents(past);\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  };\r\n\r\n  // ====== EVENT CREATE / EDIT ======\r\n\r\n  const handleSaveEvent = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      !name ||\r\n      !eventDate ||\r\n      !venue ||\r\n      !strength ||\r\n      !shortDesc ||\r\n      !about ||\r\n      !learning\r\n    ) {\r\n      alert(\"Please fill all fields\");\r\n      return;\r\n    }\r\n\r\n    const eventData = {\r\n      name,\r\n      date: eventDate,\r\n      venue,\r\n      strength: parseInt(strength),\r\n      shortDesc,\r\n      about,\r\n      learning,\r\n    };\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n    const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n    if (editEvent) {\r\n      axios\r\n        .put(base_url + `events/${editEvent.id}`, eventData, config)\r\n        .then(() => {\r\n          alert(\"Event updated and submitted for re-approval!\");\r\n          resetForm();\r\n          getAllEvents();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          alert(\r\n            err.response?.data?.message || \"Failed to update event\"\r\n          );\r\n        });\r\n    } else {\r\n      axios\r\n        .post(base_url + \"events\", eventData, config)\r\n        .then(() => {\r\n          alert(\"Event submitted for admin approval!\");\r\n          resetForm();\r\n          getAllEvents();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          alert(\r\n            err.response?.data?.message || \"Failed to create event\"\r\n          );\r\n        });\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEditEvent(null);\r\n    setName(\"\");\r\n    setEventDate(\"\");\r\n    setVenue(\"\");\r\n    setStrength(\"\");\r\n    setShortDesc(\"\");\r\n    setAbout(\"\");\r\n    setLearning(\"\");\r\n    setShowEventForm(false);\r\n  };\r\n\r\n  const handleEditClick = (event) => {\r\n    setEditEvent(event);\r\n    setName(event.name);\r\n    setEventDate(event.date);\r\n    setVenue(event.venue);\r\n    setStrength(event.strength);\r\n    setShortDesc(event.shortDesc);\r\n    setAbout(event.about);\r\n    setLearning(event.learning);\r\n    setShowEventForm(true);\r\n  };\r\n\r\n  // ====== REGISTRATION FLOW ======\r\n\r\n  const isEventFilled = (event) => {\r\n    const max = parseInt(event.strength || 0, 10);\r\n    const current = parseInt(event.currentRegistrations || 0, 10);\r\n    return max > 0 && current >= max;\r\n  };\r\n\r\n  const updateRegisteredLocal = (event) => {\r\n    const already = registeredEvents.find(\r\n      (e) => (e.id || e._id) === (event.id || event._id)\r\n    );\r\n\r\n    if (!already) {\r\n      setRegisteredEvents([...registeredEvents, event]);\r\n      setRecentlyRegistered(event);\r\n    } else {\r\n      setRecentlyRegistered({ ...event, already: true });\r\n    }\r\n\r\n    setUpcomingEvents((prev) =>\r\n      prev.map((e) =>\r\n        (e.id || e._id) === (event.id || event._id)\r\n          ? {\r\n            ...e,\r\n            currentRegistrations: (e.currentRegistrations || 0) + 1,\r\n          }\r\n          : e\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleRegisterClick = (event) => {\r\n    setConfirmEvent(event);\r\n    setShowConfirm(true);\r\n  };\r\n\r\n  const confirmRegistration = async () => {\r\n    if (!confirmEvent) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        alert(\"Please login again\");\r\n        return;\r\n      }\r\n\r\n      await axios.post(\r\n        `${base_url}events/${confirmEvent.id || confirmEvent._id}/register`,\r\n        {},\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      updateRegisteredLocal(confirmEvent);\r\n      setShowConfirm(false);\r\n      setConfirmEvent(null);\r\n\r\n      // also refresh attended events (in case event is now past)\r\n      fetchAttendedEventsFromBackend();\r\n    } catch (err) {\r\n      console.error(\"Error registering for event\", err);\r\n      const msg =\r\n        err.response?.data?.message || \"Failed to register\";\r\n      alert(msg);\r\n      setShowConfirm(false);\r\n      setConfirmEvent(null);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  // ====== FILTER HELPERS ======\r\n\r\n  const filteredUpcomingEvents = date\r\n    ? upcomingEvents.filter((event) => event.date === date)\r\n    : upcomingEvents;\r\n\r\n  const applyFilters = (list) => {\r\n    return list.filter((ev) => {\r\n      const dateStr = ev.date ? ev.date.split(\"T\")[0] : \"\";\r\n\r\n      const matchesDate = filters.date\r\n        ? dateStr === filters.date\r\n        : true;\r\n\r\n      const matchesName = filters.name\r\n        ? ev.name?.toLowerCase().includes(filters.name.toLowerCase())\r\n        : true;\r\n\r\n      const matchesVenue = filters.venue\r\n        ? ev.venue\r\n          ?.toLowerCase()\r\n          .includes(filters.venue.toLowerCase())\r\n        : true;\r\n\r\n      return matchesDate && matchesName && matchesVenue;\r\n    });\r\n  };\r\n\r\n  // ====== RENDER ======\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white\">\r\n      {/* Navbar */}\r\n      <nav className=\"bg-gray-950 bg-opacity-80 backdrop-blur-md text-white px-8 py-4 flex justify-between items-center shadow-lg border-b border-gray-700\">\r\n        <h1 className=\"text-2xl font-bold text-blue-400\">\r\n          Event Coordination Engine\r\n        </h1>\r\n\r\n        <div className=\"flex space-x-8 text-lg\">\r\n          <a\r\n            href=\"/home\"\r\n            className=\"hover:text-blue-300 transition\"\r\n          >\r\n            Home\r\n          </a>\r\n\r\n          <button\r\n            onClick={() => setActiveTab(\"all\")}\r\n            className={`transition ${activeTab === \"all\"\r\n              ? \"text-blue-300 underline\"\r\n              : \"hover:text-blue-300\"\r\n              }`}\r\n          >\r\n            Browse Events\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setActiveTab(\"registered\")}\r\n            className={`transition ${activeTab === \"registered\"\r\n              ? \"text-blue-300 underline\"\r\n              : \"hover:text-blue-300\"\r\n              }`}\r\n          >\r\n            Registered Events\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setActiveTab(\"attended\")}\r\n            className={`transition ${activeTab === \"attended\"\r\n              ? \"text-blue-300 underline\"\r\n              : \"hover:text-blue-300\"\r\n              }`}\r\n          >\r\n            Attended Events\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              handleNotifications();\r\n              setActiveTab(\"notifications\")\r\n            }}\r\n            className=\"hover:text-red-400 transition\"\r\n          >\r\n            Notifications\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setShowEventForm(!showEventForm)}\r\n            className=\"hover:text-green-300 transition\"\r\n          >\r\n            {showEventForm ? \"Hide Form\" : \"Create Event\"}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"hover:text-blue-400 transition\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Layout */}\r\n      <div className=\"flex px-8 pt-6 pb-12 gap-8\">\r\n        {/* Left: Calendar */}\r\n        <div className=\"hidden lg:block\">\r\n          <CompactEventCalendar events={eventsData} />\r\n        </div>\r\n\r\n        {/* Right: Content */}\r\n        <div className=\"flex-1\">\r\n          {/* Recently registered banner */}\r\n          {recentlyRegistered && (\r\n            <div\r\n              className={`bg-gray-800/90 border ${recentlyRegistered.already\r\n                ? \"border-yellow-500\"\r\n                : \"border-green-500\"\r\n                } p-6 rounded-2xl shadow-lg mb-4`}\r\n            >\r\n              <p className=\"text-lg font-semibold mb-2\">\r\n                {recentlyRegistered.already\r\n                  ? \"You already registered for\"\r\n                  : \"Successfully registered for\"}{\" \"}\r\n                <span className=\"text-blue-300\">\r\n                  {recentlyRegistered.name}\r\n                </span>\r\n              </p>\r\n\r\n              <button\r\n                onClick={() => setRecentlyRegistered(null)}\r\n                className=\"bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded transition\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Hero */}\r\n          <section className=\"text-center py-8\">\r\n            <h2 className=\"text-4xl font-bold text-blue-400 tracking-wide\">\r\n              Welcome, <span className=\"text-white\">User</span>\r\n            </h2>\r\n            <p className=\"text-gray-400 mt-3 text-lg\">\r\n              Discover and register for exciting upcoming events\r\n            </p>\r\n            <button\r\n              onClick={() =>\r\n                document\r\n                  .getElementById(\"browse\")\r\n                  ?.scrollIntoView({ behavior: \"smooth\" })\r\n              }\r\n              className=\"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg transition\"\r\n            >\r\n              Browse Events\r\n            </button>\r\n          </section>\r\n\r\n          {/* Create / Edit Event form */}\r\n          {showEventForm && (\r\n            <section>\r\n              <div className=\"mb-6 bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                  <h3 className=\"text-2xl font-bold text-blue-400\">\r\n                    {editEvent ? \"Edit Event\" : \"Create Event\"}\r\n                  </h3>\r\n                  <button\r\n                    onClick={resetForm}\r\n                    className=\"text-red-400 hover:text-red-500 text-2xl\"\r\n                  >\r\n                    \r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"bg-blue-900/30 border border-blue-700 p-3 rounded-lg mb-4\">\r\n                  <p className=\"text-blue-300 text-sm\">\r\n                    Your event will be submitted for admin approval before it\r\n                    appears publicly.\r\n                  </p>\r\n                </div>\r\n\r\n                <form\r\n                  onSubmit={handleSaveEvent}\r\n                  className=\"space-y-4\"\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Event Name\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"\r\n                  />\r\n                  <input\r\n                    type=\"date\"\r\n                    value={eventDate}\r\n                    onChange={(e) => setEventDate(e.target.value)}\r\n                    className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"\r\n                  />\r\n                  <select\r\n                    value={useCustomVenue?\"other\":venue}\r\n                    onChange={(e)=>{\r\n                      if (e.target.value === \"other\") {\r\n                          setUseCustomVenue(true);\r\n                          setVenue(\"\");\r\n                        } else {\r\n                          setUseCustomVenue(false);\r\n                          setVenue(e.target.value);\r\n                        }\r\n                    }}\r\n                    className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"\r\n                    >\r\n                      <option value=\"\">Select a venue</option>\r\n                      {venues?.map((venue,id)=>\r\n                        <option key={id} value={venue?.name}>{venue?.name}</option>\r\n                      )}\r\n                      <option value=\"other\">\r\n                        Others (manual entry)\r\n                      </option>\r\n                  </select>\r\n                    {useCustomVenue && (\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Enter venue manually\"\r\n                        value={venue}\r\n                        onChange={(e) =>\r\n                          setVenue(e.target.value)\r\n                        }\r\n                        className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"\r\n                      />\r\n                    )}\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Expected Participants\"\r\n                    value={strength}\r\n                    onChange={(e) => setStrength(e.target.value)}\r\n                    className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white focus:border-blue-500 focus:outline-none\"\r\n                  />\r\n                  <textarea\r\n                    placeholder=\"Short Description\"\r\n                    value={shortDesc}\r\n                    onChange={(e) => setShortDesc(e.target.value)}\r\n                    className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white h-20 resize-none focus:border-blue-500 focus:outline-none\"\r\n                  />\r\n                  <textarea\r\n                    placeholder=\"About Event\"\r\n                    value={about}\r\n                    onChange={(e) => setAbout(e.target.value)}\r\n                    className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white h-24 resize-none focus:border-blue-500 focus:outline-none\"\r\n                  />\r\n                  <textarea\r\n                    placeholder=\"Learning Outcomes\"\r\n                    value={learning}\r\n                    onChange={(e) => setLearning(e.target.value)}\r\n                    className=\"w-full p-3 rounded bg-gray-900 border border-gray-600 text-white h-24 resize-none focus:border-blue-500 focus:outline-none\"\r\n                  />\r\n\r\n                  <div className=\"flex justify-end gap-4 mt-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={resetForm}\r\n                      className=\"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded transition\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"bg-green-600 hover:bg-green-700 px-6 py-2 rounded transition\"\r\n                    >\r\n                      {editEvent ? \"Update Event\" : \"Submit Event\"}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Filters + Tabs */}\r\n          <section className=\"pb-12\">\r\n            <div className=\"flex flex-col md:flex-row gap-10 relative\">\r\n              {/* Top-right date filter */}\r\n              <div className=\"absolute right-0 top-0 md:top-[-50px] flex flex-col items-end\">\r\n                <label className=\"text-blue-400 text-sm mb-1 font-semibold\">\r\n                  Browse by Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={date}\r\n                  onChange={(e) => setDate(e.target.value)}\r\n                  className=\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n                <button\r\n                  onClick={() => setDate(\"\")}\r\n                  className=\"text-red-400 text-xs mt-2 underline hover:text-red-500\"\r\n                >\r\n                  Clear Filter\r\n                </button>\r\n              </div>\r\n\r\n              {/* Main filters + content */}\r\n              <div className=\"flex-1 mt-10\">\r\n                {/* Extra filters */}\r\n                <div className=\"mb-10 flex flex-wrap gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-400 mb-1\">\r\n                      Filter by Date\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={filters.date}\r\n                      onChange={(e) =>\r\n                        setFilters((f) => ({\r\n                          ...f,\r\n                          date: e.target.value,\r\n                        }))\r\n                      }\r\n                      className=\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-400 mb-1\">\r\n                      Filter by Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Event name\"\r\n                      value={filters.name}\r\n                      onChange={(e) =>\r\n                        setFilters((f) => ({\r\n                          ...f,\r\n                          name: e.target.value,\r\n                        }))\r\n                      }\r\n                      className=\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-400 mb-1\">\r\n                      Filter by Venue\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Venue\"\r\n                      value={filters.venue}\r\n                      onChange={(e) =>\r\n                        setFilters((f) => ({\r\n                          ...f,\r\n                          venue: e.target.value,\r\n                        }))\r\n                      }\r\n                      className=\"bg-gray-800 border border-gray-600 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n\r\n                  {(filters.date ||\r\n                    filters.name ||\r\n                    filters.venue) && (\r\n                      <button\r\n                        onClick={() =>\r\n                          setFilters({ date: \"\", name: \"\", venue: \"\" })\r\n                        }\r\n                        className=\"self-end text-xs text-red-400 underline hover:text-red-500\"\r\n                      >\r\n                        Clear All Filters\r\n                      </button>\r\n                    )}\r\n                </div>\r\n\r\n                {/* ===== TAB CONTENT ===== */}\r\n\r\n                {/* All (Upcoming + Past + Feedback) */}\r\n                {activeTab === \"all\" && (\r\n                  <>\r\n                    {/* Upcoming */}\r\n                    <section id=\"browse\" className=\"mb-12\">\r\n                      <h3 className=\"text-2xl font-bold mb-6 text-blue-400\">\r\n                        Upcoming Events\r\n                      </h3>\r\n\r\n                      {applyFilters(filteredUpcomingEvents).length ===\r\n                        0 ? (\r\n                        <p className=\"text-gray-400\">\r\n                          No upcoming events for this selection.\r\n                        </p>\r\n                      ) : (\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                          {applyFilters(\r\n                            filteredUpcomingEvents\r\n                          ).map((event) => (\r\n                            <div\r\n                              key={event.id || event._id}\r\n                              className=\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-blue-400/20 transition-all\"\r\n                            >\r\n                              <h4 className=\"text-lg font-semibold text-white mb-2\">\r\n                                {event.name}\r\n                              </h4>\r\n                              <p className=\"text-gray-400 text-sm mb-1\">\r\n                                {event.date}\r\n                              </p>\r\n                              <p className=\"text-gray-400 text-sm mb-1\">\r\n                                {event.venue}\r\n                              </p>\r\n                              <p className=\"text-gray-400 text-sm mb-1\">\r\n                                {event.shortDesc}\r\n                              </p>\r\n                              <p className=\"text-gray-400 text-xs mb-1\">\r\n                                {event.currentRegistrations || 0} /{\" \"}\r\n                                {event.strength || 0} registered\r\n                              </p>\r\n\r\n                              <div className=\"flex gap-2 mt-3\">\r\n                                {isEventFilled(event) ? (\r\n                                  <button\r\n                                    disabled\r\n                                    className=\"bg-gray-600 text-gray-300 cursor-not-allowed py-2 px-4 rounded\"\r\n                                  >\r\n                                    Registrations Filled\r\n                                  </button>\r\n                                ) : (\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      handleRegisterClick(event)\r\n                                    }\r\n                                    className=\"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded transition\"\r\n                                  >\r\n                                    Register\r\n                                  </button>\r\n                                )}\r\n\r\n                                <button\r\n                                  onClick={() =>\r\n                                    setViewStates((prev) => ({\r\n                                      ...prev,\r\n                                      [event.id || event._id]:\r\n                                        !prev[event.id || event._id],\r\n                                    }))\r\n                                  }\r\n                                  className=\"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition\"\r\n                                >\r\n                                  {viewStates[event.id || event._id]\r\n                                    ? \"Hide Details\"\r\n                                    : \"View\"}\r\n                                </button>\r\n                              </div>\r\n\r\n                              {viewStates[event.id || event._id] && (\r\n                                <div className=\"mt-4 bg-gray-700/50 p-3 rounded-lg text-gray-300 text-sm space-y-2\">\r\n                                  <p>\r\n                                    <strong>About Event</strong>{\" \"}\r\n                                    {event.about}\r\n                                  </p>\r\n                                  <p>\r\n                                    <strong>Learning Outcomes</strong>{\" \"}\r\n                                    {event.learning}\r\n                                  </p>\r\n                                  <p>\r\n                                    <strong>Strength</strong>{\" \"}\r\n                                    {event.strength}\r\n                                  </p>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </section>\r\n\r\n                    {/* Past + Feedback */}\r\n                    <section id=\"past-events\" className=\"mb-12\">\r\n                      <h3 className=\"text-2xl font-bold mb-6 text-blue-400\">\r\n                        Past Events\r\n                      </h3>\r\n\r\n                      {pastEvents.length === 0 ? (\r\n                        <p className=\"text-gray-400\">\r\n                          No past events yet.\r\n                        </p>\r\n                      ) : (\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                          {applyFilters(pastEvents).map((event) => (\r\n                            <div\r\n                              key={event.id || event._id}\r\n                              className=\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-gray-500/30 transition-all\"\r\n                            >\r\n                              <h4 className=\"text-lg font-semibold text-white mb-2\">\r\n                                {event.name}\r\n                              </h4>\r\n                              <p className=\"text-gray-400 text-sm mb-1\">\r\n                                {event.date}\r\n                              </p>\r\n                              <p className=\"text-gray-400 text-sm mb-1\">\r\n                                {event.venue}\r\n                              </p>\r\n                              <p className=\"text-gray-400 text-sm mb-1\">\r\n                                Strength: {event.strength}\r\n                              </p>\r\n                              <p className=\"text-gray-400 text-sm mb-2\">\r\n                                {event.shortDesc}\r\n                              </p>\r\n\r\n                              {/* Feedback input */}\r\n                              <div className=\"mt-3\">\r\n                                <label className=\"block text-xs text-gray-400 mb-1\">\r\n                                  Your Feedback\r\n                                </label>\r\n                                <textarea\r\n                                  rows={2}\r\n                                  placeholder=\"Share your experience about this event\"\r\n                                  value={\r\n                                    feedbackInputs[event.id || event._id] ||\r\n                                    \"\"\r\n                                  }\r\n                                  onChange={(e) =>\r\n                                    setFeedbackInputs((prev) => ({\r\n                                      ...prev,\r\n                                      [event.id || event._id]:\r\n                                        e.target.value,\r\n                                    }))\r\n                                  }\r\n                                  className=\"w-full p-2 rounded bg-gray-900 border border-gray-600 text-white text-sm focus:border-blue-500 focus:outline-none\"\r\n                                />\r\n\r\n                                <div className=\"flex justify-between items-center mt-2\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      submitFeedback(event.id || event._id)\r\n                                    }\r\n                                    className=\"bg-blue-600 hover:bg-blue-700 text-white text-sm py-1 px-3 rounded transition\"\r\n                                  >\r\n                                    Submit Feedback\r\n                                  </button>\r\n\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      loadFeedbackForEvent(\r\n                                        event.id || event._id\r\n                                      )\r\n                                    }\r\n                                    className=\"text-xs text-blue-300 underline hover:text-blue-200\"\r\n                                  >\r\n                                    {loadingFeedback[event.id || event._id]\r\n                                      ? \"Loading...\"\r\n                                      : \"View Feedbacks\"}\r\n                                  </button>\r\n                                </div>\r\n\r\n                                {/* Feedback list */}\r\n                                {feedbackList[event.id || event._id] &&\r\n                                  feedbackList[event.id || event._id]\r\n                                    .length > 0 && (\r\n                                    <div className=\"mt-3 border-t border-gray-700 pt-2 max-h-32 overflow-y-auto\">\r\n                                      <p className=\"text-xs text-gray-400 mb-1\">\r\n                                        Feedback from participants\r\n                                      </p>\r\n\r\n                                      {feedbackList[\r\n                                        event.id || event._id\r\n                                      ].map((fb) => (\r\n                                        <div key={fb._id} className=\"mb-2\">\r\n                                          <p className=\"text-xs text-blue-300 font-semibold\">\r\n                                            {fb.userName || \"User\"}\r\n                                          </p>\r\n                                          <p className=\"text-xs text-gray-200\">\r\n                                            {fb.feedback}\r\n                                          </p>\r\n                                        </div>\r\n                                      ))}\r\n                                    </div>\r\n                                  )}\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </section>\r\n                  </>\r\n                )}\r\n\r\n                {/* Registered tab */}\r\n                {activeTab === \"registered\" && (\r\n                  <section id=\"registered\" className=\"mb-12\">\r\n                    <h3 className=\"text-2xl font-bold mb-6 text-blue-400\">\r\n                      My Registered Events\r\n                    </h3>\r\n\r\n                    {applyFilters(registeredEvents).length === 0 ? (\r\n                      <p className=\"text-gray-400\">\r\n                        You have not registered for any events yet.\r\n                      </p>\r\n                    ) : (\r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                        {applyFilters(registeredEvents).map((event) => (\r\n                          <div\r\n                            key={event._id || event.id}\r\n                            className=\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-blue-400/20 transition-all\"\r\n                          >\r\n                            <h4 className=\"text-lg font-semibold text-white mb-2\">\r\n                              {event.name}\r\n                            </h4>\r\n                            <p className=\"text-gray-400 text-sm mb-1\">\r\n                              {event.date}\r\n                            </p>\r\n                            <p className=\"text-gray-400 text-sm mb-1\">\r\n                              {event.venue}\r\n                            </p>\r\n                            <p className=\"text-gray-400 text-sm mb-1\">\r\n                              {event.shortDesc}\r\n                            </p>\r\n                            <p className=\"text-xs text-green-400 font-semibold\">\r\n                               You are registered for this event\r\n                            </p>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </section>\r\n                )}\r\n\r\n                {/* Attended tab */}\r\n                {activeTab === \"attended\" && (\r\n                  <section className=\"mb-12\">\r\n                    <h3 className=\"text-2xl font-bold mb-6 text-blue-400\">\r\n                      Attended Events\r\n                    </h3>\r\n\r\n                    {applyFilters(attendedEvents).length === 0 ? (\r\n                      <p className=\"text-gray-400\">\r\n                        You have not attended any events yet.\r\n                      </p>\r\n                    ) : (\r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                        {applyFilters(attendedEvents).map((event) => (\r\n                          <div\r\n                            key={event._id || event.id}\r\n                            className=\"bg-gray-800/80 border border-gray-700 p-6 rounded-2xl shadow-lg hover:shadow-gray-500/30 transition-all\"\r\n                          >\r\n                            <h4 className=\"text-lg font-semibold text-white mb-2\">\r\n                              {event.name}\r\n                            </h4>\r\n                            <p className=\"text-gray-400 text-sm mb-1\">\r\n                              {event.date}\r\n                            </p>\r\n                            <p className=\"text-gray-400 text-sm mb-1\">\r\n                              {event.venue}\r\n                            </p>\r\n                            <p className=\"text-gray-400 text-sm mb-1\">\r\n                              Strength: {event.strength}\r\n                            </p>\r\n                            <p className=\"text-gray-400 text-sm mb-2\">\r\n                              {event.shortDesc}\r\n                            </p>\r\n                            <p className=\"text-xs text-green-400 font-semibold\">\r\n                               Marked as attended (past event)\r\n                            </p>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </section>\r\n                )}\r\n\r\n                {/* Notifications */}\r\n                {activeTab === \"notifications\" && (\r\n                  <section>\r\n                    <div className=\"mb-6 flex items-center justify-between\">\r\n                      <h3 className=\"text-2xl font-bold text-blue-400\">\r\n                        Notifications ({notificationsData.length})\r\n                      </h3>\r\n                      <div className=\"flex gap-3\">\r\n                        <button\r\n                          onClick={handleNotifications}\r\n                          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition\"\r\n                        >\r\n                           Refresh\r\n                        </button>\r\n                        <button\r\n                          onClick={handleMarkAllRead}\r\n                          className=\"bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded transition text-sm\"\r\n                        >\r\n                          Mark all as read\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {notificationsData.length === 0 ? (\r\n                      <div className=\"bg-gray-800/80 border border-gray-700 p-8 rounded-2xl text-center\">\r\n                        <p className=\"text-gray-400 text-lg\">\r\n                           No notifications right now\r\n                        </p>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                        {notificationsData.map((n) => (\r\n                          <div\r\n                            key={n._id}\r\n                            className={`bg-gray-800/80 border-2 p-6 rounded-2xl shadow-lg transition-all ${n.isRead\r\n                              ? \"border-gray-700 hover:shadow-gray-500/20\"\r\n                              : \"border-blue-500 hover:shadow-blue-500/30\"\r\n                              }`}\r\n                          >\r\n                            <div className=\"flex justify-between items-start mb-3\">\r\n                              <div>\r\n                                <h4 className=\"text-xl font-semibold text-white mb-1\">\r\n                                  {n.title}\r\n                                </h4>\r\n                                <p className=\"text-gray-300 text-sm whitespace-pre-line\">\r\n                                  {n.message}\r\n                                </p>\r\n                                {n.eventId && (\r\n                                  <p className=\"text-gray-400 text-xs mt-2\">\r\n                                    Related to event ID:{\" \"}\r\n                                    <span className=\"text-blue-400\">\r\n                                      {n.eventId}\r\n                                    </span>\r\n                                  </p>\r\n                                )}\r\n                              </div>\r\n                              <span\r\n                                className={`text-xs px-3 py-1 rounded-full ${n.isRead\r\n                                  ? \"bg-gray-600 text-white\"\r\n                                  : \"bg-blue-600 text-white\"\r\n                                  }`}\r\n                              >\r\n                                {n.isRead ? \"READ\" : \"NEW\"}\r\n                              </span>\r\n                            </div>\r\n\r\n                            <div className=\"mb-3 text-xs text-gray-400\">\r\n                              {n.createdAt && (\r\n                                <span>\r\n                                  {new Date(n.createdAt).toLocaleString()}\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-3\">\r\n                              {!n.isRead && (\r\n                                <button\r\n                                  onClick={() => handleMarkOneRead(n._id)}\r\n                                  className=\"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition font-semibold text-sm\"\r\n                                >\r\n                                   Mark as read\r\n                                </button>\r\n                              )}\r\n\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </section>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Confirmation Modal */}\r\n      {showConfirm && confirmEvent && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-gray-900 border border-gray-700 p-6 rounded-2xl max-w-lg w-11/12\">\r\n            <h3 className=\"text-xl font-bold text-blue-400 mb-3\">\r\n              Confirm Registration\r\n            </h3>\r\n\r\n            <p className=\"mb-2\">\r\n              Are you sure you want to register for{\" \"}\r\n              <span className=\"font-semibold\">\r\n                {confirmEvent.name}\r\n              </span>\r\n              ?\r\n            </p>\r\n\r\n            <p className=\"text-gray-300 mb-1\">{confirmEvent.date}</p>\r\n            <p className=\"text-gray-300 mb-1\">{confirmEvent.venue}</p>\r\n            <p className=\"text-gray-300 mb-2\">\r\n              {confirmEvent.shortDesc}\r\n            </p>\r\n\r\n            {confirmEvent.about && (\r\n              <p className=\"text-gray-300 text-sm mb-1\">\r\n                <strong>About:</strong> {confirmEvent.about}\r\n              </p>\r\n            )}\r\n\r\n            {confirmEvent.learning && (\r\n              <p className=\"text-gray-300 text-sm mb-1\">\r\n                <strong>Learning Outcomes:</strong>{\" \"}\r\n                {confirmEvent.learning}\r\n              </p>\r\n            )}\r\n\r\n            {confirmEvent.strength && (\r\n              <p className=\"text-gray-300 text-sm mb-3\">\r\n                <strong>Strength:</strong> {confirmEvent.strength}\r\n              </p>\r\n            )}\r\n\r\n            <div className=\"flex justify-end gap-3 mt-4\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowConfirm(false);\r\n                  setConfirmEvent(null);\r\n                }}\r\n                className=\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded transition\"\r\n              >\r\n                Cancel\r\n              </button>\r\n\r\n              <button\r\n                onClick={confirmRegistration}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition\"\r\n              >\r\n                Yes, Register\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}